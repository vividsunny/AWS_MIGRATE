jQuery(function(e){ywmmq.variations&&e(document).on("found_variation",function(){var t=parseInt(e('.single_variation_wrap .product_id, .single_variation_wrap input[name="product_id"]').val()),i=parseInt(e('.single_variation_wrap .variation_id, .single_variation_wrap input[name="variation_id"]').val());isNaN(t)||isNaN(i)||!function r(t,i){var a=e(".ywmmq-rules-wrapper"),n=e(".single_variation_wrap"),s=e(".add-request-quote-button");if(n.is(".processing"))return;return n.addClass("processing"),s.addClass("disabled"),n.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",url:ywmmq.ajax_url,data:{action:"ywmmq_get_rules",product_id:t,variation_id:i},success:function(t){"success"===t.status?(a.html(t.rules),0!==parseInt(t.limits.max)?e('.single_variation_wrap .quantity input[name="quantity"]').attr("max",t.limits.max):e('.single_variation_wrap .quantity input[name="quantity"]').removeAttr("max"),0!==parseInt(t.limits.min)?e('.single_variation_wrap .quantity input[name="quantity"]').attr("min",t.limits.min).val(t.limits.min):e('.single_variation_wrap .quantity input[name="quantity"]').attr("min",1).val(1),0!==parseInt(t.limits.step)?e('.single_variation_wrap .quantity input[name="quantity"]').attr("step",t.limits.step):e('.single_variation_wrap .quantity input[name="quantity"]').attr("step",1).val(1),e(document).trigger("ywmmq_additional_operations",[t.limits.min])):a.html(),n.removeClass("processing").unblock(),s.removeClass("disabled")},dataType:"json"}),0}(t,i)}),e(document).on("yith_wcpb_found_variation_after",function(t,i,a){if(i.is(".processing"))return!1;i.addClass("processing"),i.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",url:ywmmq.ajax_url,data:{action:"ywmmq_get_rules",product_id:i.data("product_id"),variation_id:i.find(".variation_id").val()},success:function(t){"success"===t.status&&(0!==parseInt(t.limits.max)?i.find(".yith-wcpb-bundled-quantity").attr("max",t.limits.max):i.find(".yith-wcpb-bundled-quantity").removeAttr("max"),0!==parseInt(t.limits.min)?i.find(".yith-wcpb-bundled-quantity").attr("min",t.limits.min).val(t.limits.min):i.find(".yith-wcpb-bundled-quantity").attr("min",1).val(1),0!==parseInt(t.limits.step)?i.find(".yith-wcpb-bundled-quantity").attr("step",t.limits.step):i.find(".yith-wcpb-bundled-quantity").attr("step",1).val(1)),i.removeClass("processing").unblock()},dataType:"json"})})});
jQuery(document).ready(function(n){"use strict";n(document.body).on("yith-wcmbs-enhanced-select-init",function(){n(":input.yith-wcmbs-post-search").filter(":not(.enhanced)").each(function(){var a,t,e;yith_wcmbs_enhanced_select_params.wc2_7?(e={allowClear:!!n(this).data("allow_clear"),placeholder:n(this).data("placeholder"),minimumInputLength:n(this).data("minimum_input_length")?n(this).data("minimum_input_length"):"3",escapeMarkup:function(t){return t},ajax:{url:yith_wcmbs_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t.term,action:n(this).data("action")||"yith_wcmbs_json_search_posts",security:yith_wcmbs_enhanced_select_params.search_posts_nonce,exclude:n(this).data("exclude"),include:n(this).data("include"),limit:n(this).data("limit"),post_type:n(this).data("post_type")||"post"}},processResults:function(t){var a=[];return t&&n.each(t,function(t,e){a.push({id:t,text:e})}),{results:a}},cache:!0}},n(this).select2(e).addClass("enhanced"),n(this).data("sortable")&&(a=n(this),(t=n(this).next(".select2-container").find("ul.select2-selection__rendered")).sortable({placeholder:"ui-state-highlight select2-selection__choice",forcePlaceholderSize:!0,items:"li:not(.select2-search__field)",tolerance:"pointer",stop:function(){n(t.find(".select2-selection__choice").get().reverse()).each(function(){var t=n(this).data("data").id,e=a.find('option[value="'+t+'"]')[0];a.prepend(e)})}}))):(e={allowClear:!!n(this).data("allow_clear"),placeholder:n(this).data("placeholder"),minimumInputLength:n(this).data("minimum_input_length")?n(this).data("minimum_input_length"):"3",escapeMarkup:function(t){return t},ajax:{url:yith_wcmbs_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t,action:n(this).data("action")||"yith_wcmbs_json_search_posts",security:yith_wcmbs_enhanced_select_params.search_posts_nonce,exclude:n(this).data("exclude"),include:n(this).data("include"),limit:n(this).data("limit"),post_type:n(this).data("post_type")||"post"}},processResults:function(t){var a=[];return t&&n.each(t,function(t,e){a.push({id:t,text:e})}),{results:a}},results:function(t){var a=[];return t&&n.each(t,function(t,e){a.push({id:t,text:e})}),{results:a}},cache:!0}},!0===n(this).data("multiple")||n(this).attr("multiple")?(e.multiple=!0,e.initSelection=function(t,e){var a=n.parseJSON(t.attr("data-selected")),i=[];return t.val()&&n(t.val().split(",")).each(function(t,e){i.push({id:e,text:a[e]})}),e(i)},e.formatSelection=function(t){return'<div class="selected-option" data-id="'+t.id+'">'+t.text+"</div>"}):(e.multiple=!1,e.initSelection=function(t,e){return e({id:t.val(),text:t.attr("data-selected")})}),n(this).select2(e).addClass("enhanced"))})}).trigger("yith-wcmbs-enhanced-select-init")});
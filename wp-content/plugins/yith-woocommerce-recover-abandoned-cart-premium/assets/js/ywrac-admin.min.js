!function(c){"use strict";c("#ywrac_user_guest_enabled-privacy").on("change",function(){c(this).is(":checked")?c("tr.yith-plugin-fw-panel-wc-row.textarea").show():c("tr.yith-plugin-fw-panel-wc-row.textarea").hide()}),c("#ywrac_user_guest_enabled-ever").on("change",function(){c(this).is(":checked")&&c("tr.yith-plugin-fw-panel-wc-row.textarea").hide()}),c("#ywrac_user_guest_enabled-never").on("change",function(){c(this).is(":checked")&&c("tr.yith-plugin-fw-panel-wc-row.textarea").hide()}),c("#ywrac_user_guest_enabled-privacy").change();c(".ywrac_send_email").on("click",function(e){e.stopPropagation();var t=c(this),a=t.prev("select"),i="undefined"!=typeof yith_ywrac_admin&&yith_ywrac_admin.block_loader,n=t.data("type"),r=t.data("id");0==a.length&&(a=c("#ywrac-email-template")),t.after(' <img src="'+i+'" >'),c.post(yith_ywrac_admin.ajaxurl,{action:"ywrac_email_send",cart_id:r,email_template:a.val(),type:n,security:yith_ywrac_admin.send_email_nonce},function(e){var a;"no"!=e.email_sent&&(a=yith_ywrac_admin.sent_label+" "+e.email_name+" ("+e.email_sent+")",0<t.parents(".yith-ywrac-info-cart").length?t.parents(".yith-ywrac-info-cart").find(".ywrac_email_status").html(a):c('.email_status[data-id="'+r+'"]').html(a),t.next().remove())})});var r=c(".ywrac-button-sent-email");r.on("click",function(e){e.stopPropagation();var a=c(this),t=a.data("id"),i="undefined"!=typeof yith_ywrac_admin&&yith_ywrac_admin.block_loader,n=c("#_ywrac_email_to_send").val();a.after(' <img src="'+i+'" >'),c(".email-sent-label").remove(),c.post(yith_ywrac_admin.ajaxurl,{action:"ywrac_email_test_send",email_to_sent:n,email_template:t,security:yith_ywrac_admin.send_email_nonce},function(e){1==e.email_sent&&(a.next().remove(),r.after(' <span class="email-sent-label">'+yith_ywrac_admin.sent_label_test+"</span>"))})});c(".ywrac-reset-reports").on("click",function(e){e.stopPropagation();var a="undefined"!=typeof yith_ywrac_admin&&yith_ywrac_admin.block_loader,t=c("#ywrac_reset_reports_nonce").val();!0===window.confirm(yith_ywrac_admin.reset_confirmation)&&(c(this).after(' <img src="'+a+'" >'),c.post(yith_ywrac_admin.ajaxurl,{action:"ywrac_reset_reports",nonce:t},function(e){!0===e.reset&&(c(this).next().remove(),location.reload())}))})}(jQuery);
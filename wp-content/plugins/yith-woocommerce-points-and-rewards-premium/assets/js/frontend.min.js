jQuery(document).ready(function(o){"use strict";var a=o("body");o(document).on("click",".ywpar-button-message",function(a){a.preventDefault();var e=o(this);e.hasClass("ywpar-button-percentage-discount")?e.next().find("form").submit():o(".ywpar_apply_discounts_container").slideToggle()}),o(document).on("click","#ywpar_apply_discounts",function(a){a.preventDefault();var e=o("#ywpar-points-max").attr("min");if(parseFloat(o("#ywpar-points-max").val())<parseFloat(e))return o(".ywpar_min_reedem_value_error").show(),!1;o(".ywpar_min_reedem_value_error").css("opacity","0"),o("#ywpar_input_points_check").val(1),o(this).parents("form").submit()}),o.fn.yith_ywpar_variations=function(a){var t=(a=o(".variations_form:not(.in_loop )")).closest(".product").find(".yith-par-message"),r=a.closest(".product").find(".yith-par-message-variation");t.length||(t=o(".product").find(".yith-par-message"),r=o(".product").find(".yith-par-message-variation")),t.length||(t=o(".yith-par-message"),r=o(".yith-par-message-variation"));var i=r.find(".product_point"),n=r.find(".product-point-conversion");a.on("found_variation",function(a,e){t.addClass("hide"),r.removeClass("hide"),0==e.variation_points&&r.addClass("hide"),e.variation_points&&i.text(e.variation_points),e.variation_price_discount_fixed_conversion&&n.html(e.variation_price_discount_fixed_conversion)}),a.on("reset_data",function(){r.addClass("hide"),t.removeClass("hide")}),a.find("select").first().trigger("change")},a.hasClass("single-product")&&o.fn.yith_ywpar_variations(),o(document).on("qv_loader_stop",function(){o.fn.yith_ywpar_variations()}),o(document.body).on("updated_cart_totals, added_to_cart, update_checkout",function(){var e=o("#yith-par-message-cart");0<e.length&&o.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_messages"),type:"POST",beforeSend:function(){},success:function(a){""!==a?e.show().html(a):e.hide()}}),0===o("#yith-par-message-reward-cart").length&&o(".woocommerce-form-coupon").after('<div id="yith-par-message-reward-cart" class="woocommerce-cart-notice woocommerce-cart-notice-minimum-amount woocommerce-info"></div>'),0<o(document).find("#yith-par-message-reward-cart").length&&o.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_rewards_messages"),type:"POST",beforeSend:function(){},success:function(a){""!==a?o(document).find("#yith-par-message-reward-cart").show().html(a):o(document).find("#yith-par-message-reward-cart").hide()}})})});